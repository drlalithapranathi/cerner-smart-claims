<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Launching Smart Claims</title>
  <script src="https://cdn.jsdelivr.net/npm/fhirclient/build/fhir-client.min.js"></script>
</head>
<body>
  <h1>Launching Smart Claims…</h1>
  <div id="status">Preparing SMART launch…</div>
  <script>
    const p = new URLSearchParams(location.search);
    const iss = p.get("iss");
    const launch = p.get("launch");
    if (!iss || !launch) {
      document.getElementById("status").textContent =
        "Missing 'iss' or 'launch'. Launch this app from the EHR.";
    } else {
      document.getElementById("status").textContent = "Redirecting to authorize…";
FHIR.oauth2.authorize({
  clientId: "93a6b9e2-0ffb-420d-9f63-9c36d2dce02d",  // ← real Client ID
  redirectUri: "https://drlalithapranathi.github.io/cerner-smart-claims/index.html",
  scope: "launch patient/*.read openid profile fhirUser patient/Coverage.read patient/ExplanationOfBenefit.read",
  iss,
  launch,
  completeInTarget: true
});

    }
  </script>
</body>
</html>
